<html>
  <head>
    <title>Link & pages</title>
    <link
      rel="stylesheet"
      href="./node_modules/onsenui/css/onsen-css-components.css"
    />
    <script src="./node_modules/onsenui/js/onsenui.js"></script>
    <script>
      var defaultCardHeight = 170, // Card Height
        defaultCardWidth = 250, // Card Width
        defaultWinHeight = window.innerHeight, // Window Height
        defaultwinWidth = window.innerWidth, // Window Width
        defaultCardSpaceWidth = 5, // Card width space
        defaultCardSpaceHeight = 5; // Card height space

      /**
       *  Configure Page links
       */
      var configurePageLinks = [
        {
          title: "Conflunce",
          subTitle: "Latest Wiki updates - Linköping",
          link: "https://axis-lkp.atlassian.net/wiki"
        },
        {
          title: "Conflunce",
          subTitle: "LKP Development Teams - Lund",
          link:
            "https://confluence.se.axis.com/display/LKPD/LKP+Development+Home#space-menu-link-content"
        },
        {
          title: "Conflunce",
          subTitle: "General Info - Linköping",
          link: "https://axis-lkp.atlassian.net/wiki/spaces/LOGI/overview"
        },
        {
          title: "Jira",
          subTitle: "Active Sprint - Linköping",
          link:
            "https://axis-lkp.atlassian.net/secure/RapidBoard.jspa?rapidView=29"
        },
        {
          title: "Jira",
          subTitle: "All Sprint boards - Linköping",
          link: "https://axis-lkp.atlassian.net/secure/ManageRapidViews.jspa"
        },
        {
          title: "Jira",
          subTitle: "All project types - Lund",
          link:
            "https://jira.se.axis.com/secure/BrowseProjects.jspa?selectedCategory=all"
        },
        {
          title: "Bitbucket",
          subTitle: "Active Monitoring Repository - Linköping",
          link: "https://bitbucket.org/axislkp/monorepo/src/master/monitoring/"
        },
        {
          title: "Bitbucket",
          subTitle: "All Repository - Linköping",
          link: "https://bitbucket.org/axislkp/"
        },
        {
          title: "Bitbucket",
          subTitle: "Dashboard Repository - Linköping",
          link: "https://bitbucket.org/dashboard/repositories"
        },
        {
          title: "Bitbucket - hm terraform",
          subTitle: "hm terraform modules repo - Linköping",
          link: "https://bitbucket.org/axislkp/hm-terraform-modules/src/master/"
        },
        {
          title: "CircleCi",
          subTitle: "CircleCi - Homepage",
          link: "https://circleci.com"
        },
        {
          title: "CircleCi",
          subTitle: "Dashboard - Linköping",
          link: "https://circleci.com/dashboard"
        },
        {
          title: "CircleCi",
          subTitle: "Monorepo - Linköping",
          link: "https://circleci.com/bb/axislkp/workflows/monorepo/tree/master"
        },
        {
          title: "CircleCi",
          subTitle: "Acs healt monitoring - Linköping",
          link:
            "https://circleci.com/bb/axislkp/workflows/acs-health-monitoring-ci/tree/master"
        },
        {
          title: "CircleCi",
          subTitle: "All Jobs - Linköping",
          link: "https://circleci.com/bb/axislkp"
        },
        {
          title: "Galaxis",
          subTitle: "Galaxis homepage - Lund",
          link: "https://galaxis.axis.com/Pages/StartPage.aspx#"
        },
        {
          title: "Galaxis",
          subTitle: "Galaxis Gainesville movie - Lund",
          link:
            "https://galaxis.axis.com/sites/Solutions/MediumBusiness/Documents/Gainesville_v2_Final.mp4"
        },
        {
          title: "Axis",
          subTitle: "Tickets / Report / Tutorials how todo - Lund",
          link: "https://axis.service-now.com/sp/"
        },
        {
          title: "Axis",
          subTitle: "Tickets Service Catalog - Lund",
          link: "https://axis.service-now.com/sp?id=sc_home"
        },
        {
          title: "Axis Benify - BankID",
          subTitle: "Löne spec / Förmån / Rabatter / Pension",
          link:
            "https://www.benify.se/fps/wspr/e/r/publicSite/view/axiscommunications"
        },
        {
          title: "Axis WorkDay",
          subTitle: "Kvittoredovisning - Lund",
          link: "https://wd3.myworkday.com/axis/d/home.htmld"
        },
        {
          title: "Sonarcloud - Sign in BitBucket",
          subTitle: "Organization axis-lkp - Linköping",
          link: "https://sonarcloud.io/organizations/axis-lkp/projects"
        },
        {
          title: "Sonarcloud",
          subTitle: "Sonarcloud - Homepage",
          link: "https://sonarcloud.io"
        },
        {
          title: "Confluence",
          subTitle: "Lkp Healt Monitoring - Lund",
          link:
            "https://confluence.se.axis.com/display/LKPHM/LKP+Health+Monitoring+Home"
        },
        {
          title: "Confluence",
          subTitle: "Latest conflunce updates - Lund",
          link: "https://confluence.se.axis.com/#all-updates"
        },
        {
          title: "Axis Secure Token - AWS",
          subTitle: "Sign in to AWS - Lund",
          link: "https://sects.axis.com/adfs/ls/IdpInitiatedSignOn.aspx"
        },
        {
          title: "AWS - EC2 Dev",
          subTitle: "Added user (IAM)",
          link:
            "https://console.aws.amazon.com/iam/home?region=us-east-2#/users"
        },
        {
          title: "Team City",
          subTitle: "Team City - Lund",
          link: "http://sa-tc/"
        },
        {
          title: "Team City",
          subTitle: "Korriban Build View - Lund",
          link:
            "http://sa-tc/viewType.html?buildTypeId=AcmAcs_Build&branch_AcmAcs=Korriban%2FHealthMonitoring&tab=buildTypeStatusDiv"
        },
        {
          title: "Galaxis Kurs",
          subTitle: "Anti corruption",
          link:
            "https://galaxis.axis.com/sites/Axis/sustainability/social/anticorruption/SitePages/start.aspx"
        },
        {
          title: "Galaxi Kurs",
          subTitle: "Security Awareness - Lund",
          link:
            "https://cdn.spprodapps.axis.com/Components/Widgets/ISAT/Training/index.html"
        },
        {
          title: "Terraform",
          subTitle: "Terraform - Homepage",
          link: "https://www.terraform.io/"
        },
        {
          title: "Terraform - providers",
          subTitle: "Terraform providers - homepage",
          link: "https://www.terraform.io/docs/providers/aws/"
        },
        {
          title: "Terragrunt",
          subTitle: "Git Terragrunt - Homepage",
          link: "https://github.com/gruntwork-io/terragrunt"
        },
        {
          title: "DymamoDB",
          subTitle: "Git Dynamo local db - Homepage",
          link: "https://github.com/instructure/dynamo-local-admin-docker"
        },
        {
          title: "TDD",
          subTitle: "TDD movie tajm - Homepage",
          link: "https://www.infoq.com/presentations/tdd-original/"
        },
        {
          title: "Sommar jobb",
          subTitle: "Sommar jobb - Linköping",
          link:
            "https://confluence.se.axis.com/pages/viewpage.action?spaceKey=LKPOGI&title=Sommarjobb"
        },
        {
          title: "Galaxis - ACS API",
          subTitle: "ACS API - Lund",
          link:
            "https://galaxis.axis.com/ResearchDevelopment/clientapplicationdevelopment/ACM%20ACS%20Development/Features/ACS/ACS%20API/ACS%20API.aspx"
        },
        {
          title: "Conflunce - ACS API",
          subTitle: "ACS API - Lund",
          link: "https://confluence.se.axis.com/display/MSDK/ACS"
        }
      ];

      var convertIntToStylePixel = number => {
        return number + "px";
      };

      var loopObj = (obj, callback) => {
        Object.keys(obj).forEach((key, index) => {
          callback(obj[key], key, index, obj);
        });
      };

      var setCardSize = onsCards => {
        if (onsCards && !onsCards.length) return;

        loopObj(onsCards, onsCard => {
          var s = onsCard.style;
          s.width = convertIntToStylePixel(defaultCardWidth);
          s.height = convertIntToStylePixel(defaultCardHeight);
        });
      };

      var setCardGridPosition = onsCards => {
        if (!onsCards || (onsCards && !onsCards.length)) return;

        var totalCardsPerRow = Math.floor(
            defaultwinWidth / (defaultCardSpaceWidth * 2 + defaultCardWidth)
          ),
          column = 0,
          row = 0;

        loopObj(onsCards, (onsCard, key, index) => {
          var s = onsCard.style;

          if (column >= totalCardsPerRow) {
            column = 0;
            row++;
          }

          s.position = "absolute";
          s.left = convertIntToStylePixel(
            (defaultCardSpaceWidth * 2 + defaultCardWidth) * column
          );
          s.top = (defaultCardSpaceHeight * 2 + defaultCardHeight) * row;
          column++;
        });
      };

      var generateCardsFromConfig = configItems => {
        if (!configItems || (configItems && !configItems.length)) return;

        var container = document.getElementById("container"),
          cardItems = [];

        configItems.forEach(configItem => {
          cardItems.push(`
            <a href="${configItem.link}" target="_blank">
              <ons-card class="over">
                <div class="head-title">
                  <h2>${configItem.title}</h2>
                </div>
                <div class="sub-title">
                  <h5>${configItem.subTitle}</h5>
                </div>
              </ons-card>
            </a>
          `);
        });
        // Generate cards
        container.innerHTML = cardItems.join();
        //ons.compile(container);

        // Size and postion
        var onsCardElms = document.getElementsByTagName("ons-card");
        if (onsCardElms) {
          setCardSize(onsCardElms);
          setCardGridPosition(onsCardElms);
        }
      };

      ons.ready(function() {
        generateCardsFromConfig(configurePageLinks);
      });
    </script>
    <style>
      .over:hover {
        background-color: #dedee0;
      }
      .head-title {
        text-align: center;
        color: goldenrod;
      }
      .sub-title {
        text-align: center;
        color: gray;
      }
    </style>
  </head>
  <body>
    <ons-page>
      <ons-toolbar>
        <div class="center" style="color:goldenrod;">Axis Links</div>
      </ons-toolbar>
      <div id="container"></div>
    </ons-page>
  </body>
</html>
